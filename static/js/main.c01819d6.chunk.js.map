{"version":3,"sources":["services/user.js","components/Loading/index.js","utils/sessionToken.js","utils/request.js","components/Loading/index.module.less","layouts/BasicLayout.module.less","index.js","services/localForage.js","routes/Updating/index.js","routes/Login/index.js","routes/Mobile.js","common/router.js","layouts/BasicLayout.js","router.js","services/auth.js","models/app.js","utils/apolloClient.js","utils/graphql.js","utils/github.js","routes/Login/index.module.less","utils/accessToken.js","routes/Updating/index.module.less"],"names":["__webpack_exports__","getAccessTokenByCode","_getAccessTokenByCode","Object","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","data","wrap","_context","prev","next","abrupt","request","method","body","JSON","stringify","stop","this","_x","apply","arguments","getUserInfo","_getUserInfo","_callee2","_context2","github","getWatching","_getWatching","_callee3","_context3","Loading","react__WEBPACK_IMPORTED_MODULE_2___default","createElement","className","styles","loading","antd_lib_icon__WEBPACK_IMPORTED_MODULE_1___default","type","utils_sessionToken","get","_get","asyncToGenerator","regenerator_default","token","localForage","getItem","sent","t0","set","sessionToken","setItem","remove","removeItem","parseText","response","text","parseJSON","Promise","resolve","parse","checkStatus","status","error","Error","statusText","url","opts","headers","defaults","objectSpread","Content-Type","SessionToken","getHeaders","options","assign","mode","fetch","then","catch","err","module","exports","italic","ellipsis","ponter","layout","header","logo","navBar","navExtra","navItem","activedNavItem","username","content","sider","siderRight","placehoder","subMenu","__webpack_require__","r","dva__WEBPACK_IMPORTED_MODULE_0__","dva__WEBPACK_IMPORTED_MODULE_0___default","n","history_createHashHistory__WEBPACK_IMPORTED_MODULE_1__","history_createHashHistory__WEBPACK_IMPORTED_MODULE_1___default","dva_loading__WEBPACK_IMPORTED_MODULE_2__","dva_loading__WEBPACK_IMPORTED_MODULE_2___default","redux_logger__WEBPACK_IMPORTED_MODULE_3__","app","dva","history","createHistory","use","createLoading","onAction","createLogger","model","require","default","router","start","clearDB","_ref","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","_ref2","key","defaultValue","list","_args2","length","undefined","_ref3","value","_x2","_x3","updateRepoInfo","_ref4","_callee4","repoInfo","repos","index","_context4","findIndex","it","owner","repo","push","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_x4","updateIssueList","_ref5","_callee5","issues","_context5","map","issue","number","sort","b","Date","createdAt","_x5","checkUser","_checkUser","_callee6","userInfo","_context6","login","_x6","getUpdateTime","_getUpdateTime","_callee7","utime","_context7","setUpdateTime","_setUpdateTime","_callee8","_context8","getTime","getRepos","_getRepos","_callee9","_context9","syncRepoInfo","_syncRepoInfo","_callee10","info","_info$data","_context10","getRepoInfo","errMsg","D_github_issue_reader_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","_x7","addRepo","_addRepo","_callee11","_ref6","_info$data2","_context11","_x8","delRepo","_delRepo","_callee12","_ref7","_context12","splice","filter","favorite","_x9","updateRepo","_updateRepo","_callee13","_context13","_x10","getIssues","_getIssues","_callee14","limit","total","_args14","_context14","slice","Math","min","_getRepoInfo","_callee15","_ref8","respInfo","_context15","find","message","_x11","getIssueInfo","_getIssueInfo","_callee16","_context16","_x12","updateIssue","_updateIssue","_callee17","_context17","_x13","getFavoriteIssues","_getFavoriteIssues","_callee18","favoriteIssues","_args18","_context18","connect","state","percent","react_default","flex","progress_default","showInfo","strokeWidth","jump2authorize","window","location","replace","Login","container","card_default","card","src","alt","title","subtitle","button_default","block","onClick","icon","size","React","PureComponent","Mobile","Exception_default","desc","actions","getAppRoutes","routerData","Component","dynamic","models","component","exact","path","render","props","getRoutes","e","bind","all","Header","Content","Sider","SiderMenu","pathname","match","selectedKeys","menu_default","defaultSelectedKeys","Item","icon_default","SubMenu","concat","user","avatar_default","shape","avatarUrl","disabled","BasicLayout","onUserMenuClick","_this","dispatch","routerRedux","onSiderMenuClick","_this2","_this$props","layout_default","href","target","rel","to","dropdown_default","overlay","Divider","name","width","BasicLayout_SiderMenu","style","overflow","from","setDefaultLoadingComponent","RouterConfig","locale_provider_default","locale","zhCN","Updating","layouts_BasicLayout","auth","getAccessToken","_getAccessToken","accessToken","setAccessToken","_setAccessToken","removeAccessToken","_removeAccessToken","replaceState","searchObj","search","queryString","newSearch","namespace","subscriptions","setup","payload","listen","effects","init","put","select","call","config","UA","navigator","userAgent","device","_ref9","code","_ref10","objectWithoutProperties","userService","authService","_ref11","_ref12","_ref13","viewer","logout","_ref14","_ref15","loginSucceed","_ref16","_ref17","loginFaild","_ref18","_ref19","updateDB","_ref20","_ref21","i","l","localForageService","floor","subscribe","_ref22","_ref23","_ref24","notification_default","success","description","unsubscribe","_ref25","_ref26","updateRepos","_ref27","_ref28","reducers","save","action","getApolloClient","ApolloClient","uri","Accept","Authorization","token_type","access_token","graphql","query","schema","client","resp","getClient","errorPolicy","parseUserInfo","bio","organization","gql","_templateObject","_ref$team","team","_ref$filterAuthor","filterAuthor","totalCount","edges","_templateObject2","repository","node","author","cursor","_info$data$viewer$wat","_templateObject3","watching","issueCount","starCount","stargazers","watchCount","watchers","_templateObject4"],"mappings":"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","file":"static/js/main.c01819d6.chunk.js","sourcesContent":["// import storage from '../utils/storage';\r\n// import resource from '../utils/resource';\r\nimport request from '../utils/request';\r\nimport github from '../utils/github';\r\n// import sessionToken from '../utils/sessionToken';\r\n\r\n// const user = () => {\r\n//   return resource('/user/:type/:owner/:repo/issues/:number');\r\n// };\r\n\r\nexport default {\r\n  async getAccessTokenByCode(data) {\r\n    return request('https://issuereaderapi.leanapp.cn/login', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n    // return user().post({}, { code, state });\r\n  },\r\n  async getUserInfo() {\r\n    return github.getUserInfo();\r\n  },\r\n  async getWatching() {\r\n    return github.getWatching();\r\n    // return github.getWatching();\r\n  },\r\n  // async loginByToken(data) {\r\n  //   return user().post({}, data);\r\n  // },\r\n  // async login(data) {\r\n  //   return user().post({}, data);\r\n  // },\r\n  // async getRepos() {\r\n  //   return user().get({ type: 'repos' });\r\n  // },\r\n  // async getRepoInfo({ owner, repo }) {\r\n  //   return user().get({ type: 'repos', owner, repo });\r\n  // },\r\n  // async addRepo({ owner, repo }) {\r\n  //   return user().post({ type: 'repos' }, { owner, repo });\r\n  // },\r\n  // async delRepo({ owner, repo }) {\r\n  //   return user().remove({ type: 'repos' }, { owner, repo });\r\n  // },\r\n  // async getIssues() {\r\n  //   return user().get({ type: 'issues' });\r\n  // },\r\n  // async getFavorites() {\r\n  //   return user().get({ type: 'favorites' });\r\n  // },\r\n  // async markAsRead({ owner, repo, number }) {\r\n  //   return user().post({ type: 'repos', owner, repo, number });\r\n  // },\r\n  // async markAsFavorite({ owner, repo, number }) {\r\n  //   return user().post({ type: 'favorites' }, { owner, repo, number });\r\n  // },\r\n  // async removeFavorite({ owner, repo, number }) {\r\n  //   return user().remove({ type: 'favorites' }, { owner, repo, number });\r\n  // },\r\n};\r\n","import React from 'react';\r\nimport { Icon } from 'antd';\r\nimport styles from './index.module.less';\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className={styles.loading}>\r\n      <Icon type=\"loading\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","// import storage from './storage';\r\nimport localForage from 'localforage';\r\nconst sessionTokenKey = 'sessionToken';\r\n\r\nexport default {\r\n  async get() {\r\n    try {\r\n      const token = await localForage.getItem(sessionTokenKey);\r\n      return token;\r\n    } catch (errMsg) {\r\n      return null;\r\n    }\r\n  },\r\n  set(sessionToken) {\r\n    return localForage.setItem(sessionTokenKey, sessionToken);\r\n  },\r\n  remove() {\r\n    return localForage.removeItem(sessionTokenKey);\r\n  },\r\n};\r\n","import fetch from 'dva/fetch';\r\nimport sessionToken from './sessionToken';\r\n\r\nfunction parseText(response) {\r\n  return response.text();\r\n}\r\n\r\nfunction parseJSON(text) {\r\n  return new Promise(resolve => {\r\n    const res = '' === text ? {} : JSON.parse(text);\r\n    resolve(res);\r\n  });\r\n}\r\n\r\nfunction checkStatus(response) {\r\n  if (200 <= response.status && 300 > response.status) {\r\n    return response;\r\n  }\r\n\r\n  const error = new Error(response.statusText);\r\n  error.response = response;\r\n  throw error;\r\n}\r\n\r\nfunction getHeaders(defaults) {\r\n  const headers = {\r\n    'Content-Type': 'application/json',\r\n    ...defaults,\r\n  };\r\n  const token = sessionToken.get();\r\n  if (token) {\r\n    return { ...headers, SessionToken: token };\r\n  } else {\r\n    return headers;\r\n  }\r\n}\r\n\r\n/**\r\n * Requests a URL, returning a promise.\r\n *\r\n * @param  {string} url       The URL we want to request\r\n * @param  {object} [options] The options we want to pass to \"fetch\"\r\n * @return {object}           An object containing either \"data\" or \"err\"\r\n */\r\nexport default function request(url, opts) {\r\n  const headers = getHeaders(opts.headers);\r\n  const options = Object.assign(\r\n    {},\r\n    {\r\n      method: 'GET',\r\n      mode: 'cors',\r\n      headers,\r\n    },\r\n    opts,\r\n  );\r\n\r\n  return fetch(url, options)\r\n    .then(checkStatus)\r\n    .then(parseText)\r\n    .then(parseJSON)\r\n    .then(data => ({ data }))\r\n    .catch(err => ({ err }));\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"italic\":\"index_italic__2xJNB\",\"ellipsis\":\"index_ellipsis__1TZNe\",\"ponter\":\"index_ponter__i8VfP\",\"loading\":\"index_loading__3DqDV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"italic\":\"BasicLayout_italic__6g-CS\",\"ellipsis\":\"BasicLayout_ellipsis__1QAdS\",\"ponter\":\"BasicLayout_ponter__1nMp7\",\"layout\":\"BasicLayout_layout__Re7i2\",\"header\":\"BasicLayout_header__m3HNr\",\"logo\":\"BasicLayout_logo__1hjtU\",\"navBar\":\"BasicLayout_navBar__2d6E9\",\"navExtra\":\"BasicLayout_navExtra__2FGUT\",\"navItem\":\"BasicLayout_navItem__1dtlA\",\"activedNavItem\":\"BasicLayout_activedNavItem__3O8dm\",\"username\":\"BasicLayout_username__wvt6T\",\"content\":\"BasicLayout_content__3xzDJ\",\"sider\":\"BasicLayout_sider__303Xa\",\"siderRight\":\"BasicLayout_siderRight__3rdat\",\"placehoder\":\"BasicLayout_placehoder__7QGFc\",\"subMenu\":\"BasicLayout_subMenu__3JBtC\"};","import dva from 'dva';\r\nimport createHistory from 'history/createHashHistory';\r\nimport createLoading from 'dva-loading';\r\nimport { createLogger } from 'redux-logger';\r\n// import 'antd/dist/antd.less';\r\nimport 'ant-design-pro/dist/ant-design-pro.css';\r\n\r\nimport './index.less';\r\n\r\n// 1. Initialize\r\nconst app = dva({\r\n  history: createHistory(),\r\n});\r\n\r\n// 2. Plugins\r\n// app.use({});\r\napp.use(createLoading());\r\napp.use({ onAction: createLogger() });\r\n\r\n// 3. Model\r\napp.model(require('./models/app').default);\r\n// app.model(require('./models/repo').default);\r\n// app.model(require('./models/issues').default);\r\n\r\n// 4. Router\r\napp.router(require('./router').default);\r\n\r\n// 5. Start\r\napp.start('#root');\r\n","import localForage from 'localforage';\r\nimport github from '../utils/github';\r\n\r\nconst clearDB = async () => {\r\n  await localForage.setItem('repos', []);\r\n  await localForage.setItem('issues', []);\r\n  await localForage.setItem('favorites', []);\r\n  await localForage.setItem('read', []);\r\n  await localForage.setItem('utime', 0);\r\n};\r\n\r\nconst getItem = async (key, defaultValue = []) => {\r\n  try {\r\n    const list = await localForage.getItem(key);\r\n    return list || defaultValue;\r\n  } catch (errMsg) {\r\n    return defaultValue;\r\n  }\r\n};\r\nconst setItem = async (key, value) => {\r\n  try {\r\n    await localForage.setItem(key, value);\r\n  } catch (errMsg) {}\r\n  return value;\r\n};\r\n\r\nconst updateRepoInfo = async repoInfo => {\r\n  const repos = await getItem('repos');\r\n  const index = repos.findIndex(it => it.owner === repoInfo.owner && it.repo === repoInfo.repo);\r\n  if (-1 === index) {\r\n    repos.push(repoInfo);\r\n  } else {\r\n    repos[index] = { ...repos[index], ...repoInfo };\r\n  }\r\n  await setItem('repos', repos);\r\n};\r\nconst updateIssueList = async list => {\r\n  const issues = await getItem('issues');\r\n  list.map(issue => {\r\n    const index = issues.findIndex(\r\n      it => it.owner === issue.owner && it.repo === issue.repo && it.number === issue.number,\r\n    );\r\n    if (-1 === index) {\r\n      issues.push(issue);\r\n    } else {\r\n      issues[index] = { ...issues[index], ...issue };\r\n    }\r\n    return issue;\r\n  });\r\n  issues.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\r\n  await setItem('issues', issues);\r\n};\r\n\r\nexport default {\r\n  async checkUser(userInfo) {\r\n    try {\r\n      const userId = await localForage.getItem('userId');\r\n      if (userId !== userInfo.login) {\r\n        await clearDB();\r\n        await localForage.setItem('userId', userInfo.login);\r\n      }\r\n      return true;\r\n    } catch (errMsg) {\r\n      return false;\r\n    }\r\n  },\r\n  async getUpdateTime() {\r\n    try {\r\n      const utime = await localForage.getItem('utime');\r\n      return utime;\r\n    } catch (errMsg) {\r\n      return 0;\r\n    }\r\n  },\r\n  async setUpdateTime() {\r\n    try {\r\n      const utime = new Date().getTime();\r\n      await localForage.setItem('utime', utime);\r\n      return utime;\r\n    } catch (errMsg) {\r\n      return 0;\r\n    }\r\n  },\r\n  async getRepos() {\r\n    return getItem('repos');\r\n  },\r\n  async syncRepoInfo(repo) {\r\n    if (!repo.owner || !repo.repo) {\r\n      return { data: repo };\r\n    }\r\n    const info = await github.getRepoInfo(repo);\r\n    if (info.errMsg) {\r\n      return info;\r\n    }\r\n    const { list, ...repoInfo } = info.data;\r\n    await updateRepoInfo(repoInfo);\r\n    await updateIssueList(list);\r\n    return repoInfo;\r\n  },\r\n  async addRepo({ owner, repo }) {\r\n    const info = await github.getRepoInfo({ owner, repo });\r\n    if (info.errMsg) {\r\n      return info;\r\n    }\r\n    const { list, ...repoInfo } = info.data;\r\n    await updateRepoInfo(repoInfo);\r\n    await updateIssueList(list);\r\n    return info;\r\n  },\r\n  async delRepo({ owner, repo }) {\r\n    const repos = await getItem('repos');\r\n    const index = repos.findIndex(it => it.owner === owner && it.repo === repo);\r\n    if (-1 !== index) {\r\n      repos.splice(index, 1);\r\n      await setItem('repos', repos);\r\n    }\r\n    const issues = await getItem('issues');\r\n    const list = issues.filter(it => it.owner !== owner || it.repo !== repo || !it.favorite);\r\n    if (list.length < issues.length) {\r\n      await setItem('issues', list);\r\n    }\r\n    return { owner, repo };\r\n  },\r\n  async updateRepo(repoInfo) {\r\n    await updateRepoInfo(repoInfo);\r\n    return repoInfo;\r\n  },\r\n  async getIssues(start = 0, limit = 100) {\r\n    const issues = await getItem('issues');\r\n    const total = issues.length;\r\n    const list = issues.slice(start, Math.min(start + limit, total));\r\n    return { data: { list, total, start } };\r\n  },\r\n  async getRepoInfo({ owner, repo }) {\r\n    // const [repos, issues] =  await Promise.all(getItem('repos'), getItem('issues'));\r\n    const repos = await getItem('repos');\r\n    const respInfo = repos.find(it => owner === it.owner && repo === it.repo);\r\n    if (!respInfo) {\r\n      return { errMsg: { response: { status: '404', message: 'resp not found' } } };\r\n    }\r\n    const issues = await getItem('issues');\r\n    const list = issues.filter(it => owner === it.owner && repo === it.repo);\r\n    return { data: { ...respInfo, list } };\r\n  },\r\n  async getIssueInfo(data) {\r\n    return github.getIssueInfo(data);\r\n  },\r\n  async updateIssue(info) {\r\n    const issues = await getItem('issues');\r\n    const index = issues.findIndex(it => it.owner === info.owner && it.repo === info.repo && it.number === info.number);\r\n    if (-1 !== index) {\r\n      issues[index] = { ...issues[index], ...info };\r\n      await setItem('issues', issues);\r\n    }\r\n  },\r\n  async getFavoriteIssues(start = 0, limit = 100) {\r\n    const issues = await getItem('issues');\r\n    const favoriteIssues = issues.filter(it => it && it.favorite);\r\n    const total = favoriteIssues.length;\r\n    const list = favoriteIssues.slice(start, Math.min(start + limit, total));\r\n    return { data: { list, total, start } };\r\n  },\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'dva';\r\nimport { Progress } from 'antd';\r\nimport styles from './index.module.less';\r\n\r\nconst Updating = ({ percent }) => {\r\n  return (\r\n    <div className={styles.flex}>\r\n      <div className={styles.loading}>\r\n        <div className={styles.text}>loading</div>\r\n        <div className={styles.percent}>{percent}%</div>\r\n        <Progress percent={percent} showInfo={false} strokeWidth={1} status=\"active\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nUpdating.propTypes = {\r\n  percent: PropTypes.number,\r\n};\r\n\r\nexport default connect(state => ({\r\n  percent: state.app.percent,\r\n}))(Updating);\r\n","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\n// import { connect } from 'dva';\r\n// import moment from 'moment';\r\nimport { Card, Button } from 'antd';\r\n// import PageHeader from 'ant-design-pro/lib/PageHeader';\r\n// import { MarkdownPreview } from 'react-marked-markdown';\r\n// import Ellipsis from 'ant-design-pro/lib/Ellipsis';\r\n// import Loading from '../Loading';\r\n// import Issue from '../Issue';\r\n\r\nimport styles from './index.module.less';\r\n\r\nconst jump2authorize = () => {\r\n  window.location.replace(\r\n    'https://github.com/login/oauth/authorize?client_id=e3fcd5f1d9cfd0d5aaaa&redirect_uri=https%3A%2F%2Fissuereader.github.io%2F&scope=repo&state=github',\r\n  );\r\n};\r\n\r\nclass Login extends React.PureComponent {\r\n  // constructor(props) {\r\n  //   super(props);\r\n  //   // this.state = {\r\n  //   //   opened: undefined,\r\n  //   // };\r\n  //   this.login = this.login.bind(this);\r\n  //   // this.toggleFavorite = this.toggleFavorite.bind(this);\r\n  // }\r\n  render() {\r\n    return (\r\n      <div className={styles.container}>\r\n        <Card className={styles.card}>\r\n          <img className={styles.logo} src=\"./logo128x128.png\" alt=\"Github Iussue Blog Reader\" />\r\n          <div className={styles.title}>Iussue Reader</div>\r\n          <div className={styles.subtitle}>Github Iussue Blog Reader</div>\r\n          <Button className={styles.block} onClick={jump2authorize} type=\"primary\" icon=\"github\" size=\"large\">\r\n            Github 登录\r\n          </Button>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Login.propTypes = {\r\n//   issues: PropTypes.array,\r\n//   dispatch: PropTypes.func,\r\n// };\r\n\r\nexport default Login;\r\n","import React from 'react';\r\n// import { connect } from 'dva';\r\n// import { Icon } from 'antd';\r\nimport Exception from 'ant-design-pro/lib/Exception';\r\n\r\nconst Mobile = () => {\r\n  return <Exception type=\"500\" title=\"\" desc=\"暂不支持，请使用电脑访问\" actions={[]} />;\r\n};\r\n\r\n// function mapStateToProps(state) {\r\n//   return { ...state.client };\r\n// }\r\n\r\n// export default Show;\r\nexport default Mobile;\r\n","import React from 'react';\r\nimport dynamic from 'dva/dynamic';\r\nimport { Route } from 'dva/router';\r\n\r\nconst getRoutes = (routerData, app) => {\r\n  const Routes = routerData.map(it => {\r\n    // debugger;\r\n    const Component = dynamic({ app, models: it.models, component: it.component });\r\n    const exact = false !== it.exact;\r\n    return <Route key={it.path} path={it.path} exact={exact} render={props => <Component {...props} app={app} />} />;\r\n  });\r\n  return Routes;\r\n};\r\n\r\nconst getRouterDate = () => {\r\n  return [\r\n    {\r\n      path: '/all',\r\n      key: 'all',\r\n      models: () => [import('../models/all')],\r\n      component: () => import('../routes/All'),\r\n    },\r\n    {\r\n      path: '/favorites',\r\n      key: 'favorites',\r\n      models: () => [import('../models/favorites')],\r\n      component: () => import('../routes/Favorites'),\r\n    },\r\n    {\r\n      path: '/discovery',\r\n      key: 'discovery',\r\n      models: () => [],\r\n      component: () => import('../routes/Discovery'),\r\n    },\r\n    {\r\n      path: '/discovery/:owner/:repo',\r\n      key: 'repoinfo',\r\n      models: () => [],\r\n      component: () => import('../routes/RepoInfo'),\r\n    },\r\n    {\r\n      path: '/repos/:owner/:repo',\r\n      key: 'repo',\r\n      models: () => [],\r\n      component: () => import('../routes/Repo'),\r\n    },\r\n    {\r\n      path: '/user/profile',\r\n      key: 'profile',\r\n      models: () => [],\r\n      component: () => import('../routes/Profile'),\r\n    },\r\n    {\r\n      path: '/user/watching',\r\n      key: 'watching',\r\n      models: () => [import('../models/watching')],\r\n      component: () => import('../routes/Watching'),\r\n    },\r\n    {\r\n      path: '/search',\r\n      key: 'search',\r\n      models: () => [],\r\n      component: () => import('../routes/Search'),\r\n    },\r\n  ];\r\n};\r\n\r\nconst getAppRoutes = app => {\r\n  return getRoutes(getRouterDate(), app);\r\n};\r\n\r\nexport default getAppRoutes;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'dva';\r\nimport { Switch, Redirect, routerRedux, Link } from 'dva/router';\r\nimport { Layout, Menu, Icon, Avatar, Dropdown } from 'antd';\r\n// import HeaderSearch from 'ant-design-pro/lib/HeaderSearch';\r\nimport getAppRoutes from '../common/router';\r\n// import All from './All';\r\n// import Discovery from './Discovery';\r\n// import RepoInfo from './RepoInfo';\r\n// import Repo from './Repo';\r\n// import Favorites from './Favorites';\r\n// import Profile from './Profile';\r\n// import Watching from './Watching';\r\n// import Search from './Search';\r\nimport styles from './BasicLayout.module.less';\r\n\r\nconst { Header, Content, Sider } = Layout;\r\nconst SiderMenu = ({ pathname, repos, onClick }) => {\r\n  if (pathname.match(/^\\/user\\/.*/)) {\r\n    const selectedKeys = [pathname];\r\n    return (\r\n      <Menu defaultSelectedKeys={['/user/profile']} selectedKeys={selectedKeys} mode=\"inline\" onClick={onClick}>\r\n        <Menu.Item key=\"/user/profile\">\r\n          <Icon type=\"user\" />\r\n          <span>&nbsp;个人中心</span>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"/user/watching\">\r\n          <Icon type=\"github\" />\r\n          <span>&nbsp;关注</span>\r\n        </Menu.Item>\r\n      </Menu>\r\n    );\r\n  } else if (!pathname.match(/^\\/search(\\/.*)?/)) {\r\n    const selectedKeys = [];\r\n    if (pathname.match(/^\\/repos\\/.*/)) {\r\n      selectedKeys.push('/repos', pathname);\r\n    } else if (pathname.match(/^\\/discovery\\/.*/)) {\r\n      selectedKeys.push('/discovery');\r\n    } else {\r\n      selectedKeys.push(pathname);\r\n    }\r\n    // const selectedKeys = pathname.match(/^\\/repos\\/.*/) ? ['repos', pathname] : [pathname];\r\n    return (\r\n      <Menu\r\n        defaultSelectedKeys={['/all']}\r\n        // defaultOpenKeys={['/repos']}\r\n        selectedKeys={selectedKeys}\r\n        mode=\"inline\"\r\n        onClick={onClick}\r\n      >\r\n        <Menu.Item key=\"/all\">所有</Menu.Item>\r\n        <Menu.SubMenu key=\"/repos\" title=\"我的订阅\" className={styles.subMenu}>\r\n          {repos &&\r\n            repos.map(\r\n              it =>\r\n                it && (\r\n                  <Menu.Item key={`/repos/${it.owner}/${it.repo}`}>\r\n                    {it.user && <Avatar size=\"small\" shape=\"square\" src={it.user.avatarUrl} />}\r\n                    &nbsp;\r\n                    {it.owner}/{it.repo}\r\n                  </Menu.Item>\r\n                ),\r\n            )}\r\n          {(!repos || 0 === repos.length) && (\r\n            <Menu.Item key=\"no-data\" disabled>\r\n              没有订阅\r\n            </Menu.Item>\r\n          )}\r\n        </Menu.SubMenu>\r\n        <Menu.Item key=\"/favorites\">我的收藏</Menu.Item>\r\n        <Menu.Item key=\"/discovery\">发现</Menu.Item>\r\n      </Menu>\r\n    );\r\n  } else {\r\n    const selectedKeys = [pathname];\r\n    return (\r\n      <Menu\r\n        defaultSelectedKeys={['/search']}\r\n        mode=\"inline\"\r\n        selectedKeys={selectedKeys}\r\n        // theme=\"dark\"\r\n        onClick={onClick}\r\n      >\r\n        <Menu.Item key=\"/search\">搜索结果</Menu.Item>\r\n      </Menu>\r\n    );\r\n  }\r\n};\r\n\r\nclass BasicLayout extends React.PureComponent {\r\n  // constructor(props) {\r\n  //   super(props);\r\n\r\n  //   this.handleClick = this.handleClick.bind(this);\r\n  // }\r\n  onUserMenuClick = ({ key }) => {\r\n    if ('logout' === key) {\r\n      this.props.dispatch({ type: 'app/logout' });\r\n    } else {\r\n      this.props.dispatch(routerRedux.push(key));\r\n    }\r\n  };\r\n\r\n  onSiderMenuClick = ({ key }) => {\r\n    this.props.dispatch(routerRedux.push(key));\r\n  };\r\n\r\n  render() {\r\n    const { app, location, userInfo, repos } = this.props;\r\n\r\n    // const link = getDefaultLink(repos);\r\n\r\n    return (\r\n      <Layout className={styles.layout}>\r\n        <Header className={styles.header}>\r\n          <a\r\n            className={styles.logo}\r\n            href=\"https://github.com/IssueReader/IssueReader.github.io\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            <img alt=\"IssueReader\" src=\"/logo128x128.png\" />\r\n          </a>\r\n          <div className={styles.navBar}>\r\n            <Link to=\"/all\">\r\n              <Icon type=\"home\" />\r\n              &nbsp;&nbsp;首页\r\n            </Link>\r\n          </div>\r\n          <div className={styles.navExtra}>\r\n            {/* <div className={styles.navItem}>\r\n              <HeaderSearch\r\n                placeholder=\"站内搜索\"\r\n                dataSource={['搜索提示一', '搜索提示二', '搜索提示三']}\r\n                onSearch={(value) => {\r\n                  console.log('input', value); // eslint-disable-line\r\n                }}\r\n                onPressEnter={(value) => {\r\n                  console.log('enter', value); // eslint-disable-line\r\n                }}\r\n              />\r\n            </div> */}\r\n            {/* <div className={styles.navItem}>\r\n              <Icon type=\"check-square-o\" />\r\n              <span>&nbsp;Mark All as Read</span>\r\n            </div> */}\r\n            <div className={styles.navItem} onClick={() => this.props.dispatch(routerRedux.push('/discovery'))}>\r\n              <Icon type=\"plus\" />\r\n              <span>&nbsp;添加</span>\r\n            </div>\r\n            <a\r\n              className={styles.navItem}\r\n              href=\"https://github.com/IssueReader/IssueReader.github.io\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              <Icon type=\"github\" />\r\n              <span>&nbsp;Star on Github</span>\r\n            </a>\r\n            <Dropdown\r\n              overlay={\r\n                <Menu onClick={this.onUserMenuClick}>\r\n                  <Menu.Item key=\"/user/profile\">\r\n                    <Icon type=\"user\" />\r\n                    <span>&nbsp;个人中心</span>\r\n                  </Menu.Item>\r\n                  <Menu.Item key=\"/user/watching\">\r\n                    <Icon type=\"github\" />\r\n                    <span>&nbsp;关注</span>\r\n                  </Menu.Item>\r\n                  <Menu.Divider />\r\n                  <Menu.Item key=\"logout\">\r\n                    <Icon type=\"logout\" />\r\n                    <span>&nbsp;注销</span>\r\n                  </Menu.Item>\r\n                </Menu>\r\n              }\r\n            >\r\n              <div className={styles.navItem}>\r\n                <Avatar size=\"small\" src={userInfo.avatarUrl} />\r\n                <span className={styles.username}>\r\n                  &nbsp;\r\n                  {userInfo.name}\r\n                </span>\r\n              </div>\r\n            </Dropdown>\r\n          </div>\r\n        </Header>\r\n        <Content className={styles.content}>\r\n          <Layout>\r\n            <Sider className={styles.sider} width=\"240\">\r\n              <SiderMenu pathname={location.pathname} repos={repos} onClick={this.onSiderMenuClick} />\r\n              <div className={styles.placehoder} />\r\n            </Sider>\r\n            <Layout className={styles.siderRight}>\r\n              <Content style={{ overflow: 'initial' }}>\r\n                <Switch>\r\n                  {getAppRoutes(app)}\r\n                  <Redirect push from=\"*\" to=\"/all\" />\r\n                </Switch>\r\n              </Content>\r\n            </Layout>\r\n          </Layout>\r\n        </Content>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nBasicLayout.propTypes = {\r\n  repos: PropTypes.array,\r\n  // issues: PropTypes.array,\r\n  dispatch: PropTypes.func,\r\n};\r\n\r\nexport default connect(state => ({\r\n  userInfo: state.app.userInfo,\r\n  repos: state.app.repos,\r\n}))(BasicLayout);\r\n","import React from 'react';\r\nimport { Router, Route, Switch } from 'dva/router';\r\nimport dynamic from 'dva/dynamic';\r\nimport { LocaleProvider } from 'antd';\r\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\r\nimport Loading from './components/Loading';\r\nimport Updating from './routes/Updating';\r\nimport Login from './routes/Login';\r\nimport Mobile from './routes/Mobile';\r\nimport BasicLayout from './layouts/BasicLayout';\r\n\r\ndynamic.setDefaultLoadingComponent(() => {\r\n  return <Loading />;\r\n});\r\n\r\nfunction RouterConfig({ history, app }) {\r\n  return (\r\n    <LocaleProvider locale={zhCN}>\r\n      <Router history={history}>\r\n        <Switch>\r\n          <Route path=\"/\" exact component={Updating} />\r\n          <Route path=\"/login\" exact component={Login} />\r\n          <Route path=\"/mobile\" exact component={Mobile} />\r\n          <Route path=\"(.*)\" render={props => <BasicLayout {...props} app={app} />} />\r\n        </Switch>\r\n      </Router>\r\n    </LocaleProvider>\r\n  );\r\n}\r\n\r\nexport default RouterConfig;\r\n","import accessToken from '../utils/accessToken';\r\n\r\nexport default {\r\n  async getAccessToken() {\r\n    return accessToken.get();\r\n  },\r\n  async setAccessToken(token) {\r\n    return accessToken.set(token);\r\n  },\r\n  async removeAccessToken() {\r\n    return accessToken.remove();\r\n  },\r\n};\r\n","// import React from 'react';\r\nimport { routerRedux } from 'dva/router';\r\nimport queryString from 'query-string';\r\nimport UA from 'ua-device';\r\nimport localForage from 'localforage';\r\nimport { notification } from 'antd';\r\nimport userService from '../services/user';\r\nimport authService from '../services/auth';\r\nimport localForageService from '../services/localForage';\r\n\r\nconst replaceState = searchObj => {\r\n  const search = queryString.stringify(searchObj);\r\n  const newSearch = search ? `?${search}` : '';\r\n  const href = window.location.href.replace(/^([^?#]+)(\\?[^#]+)(#.*)?/, `$1${newSearch}$3`);\r\n  window.history.replaceState({}, '', href);\r\n};\r\n\r\nexport default {\r\n  namespace: 'app',\r\n\r\n  state: {\r\n    repos: undefined,\r\n    userInfo: undefined,\r\n    percent: 0,\r\n    status: 'active',\r\n  },\r\n\r\n  subscriptions: {\r\n    setup({ dispatch, history }) {  // eslint-disable-line\r\n      dispatch({ type: 'init', payload: history.location });\r\n      return history.listen(({ pathname, search }) => {\r\n        if ('/' === pathname) {\r\n          return dispatch({ type: 'loading', payload: { pathname, search } });\r\n        }\r\n      });\r\n    },\r\n  },\r\n\r\n  effects: {\r\n    *init({ payload }, { call, put, select }) {  // eslint-disable-line\r\n      localForage.config({ name: 'issue-reader' });\r\n      const { userInfo } = yield select(state => state.app);\r\n      if ('/' === payload.pathname || '/login' === payload.pathname || undefined !== userInfo) {\r\n        return;\r\n      }\r\n      const from = 'mobile' === payload.pathname ? '/all' : payload.pathname;\r\n      const search = queryString.stringify(Object.assign({ from }, queryString.parse(payload.search)));\r\n      yield put(\r\n        routerRedux.replace({\r\n          pathname: '/',\r\n          search: `?${search}`,\r\n        }),\r\n      );\r\n    },\r\n    *loading({ payload }, { put }) {\r\n      // debugger;  // eslint-disable-line\r\n      const ua = new UA(window.navigator.userAgent);\r\n      if ('mobile' === ua.device.type) {\r\n        yield put({ type: 'save', payload: { userInfo: null } });\r\n        return yield put(routerRedux.replace('/mobile'));\r\n      }\r\n      const search = queryString.parse(window.location.search || '');\r\n      // const search = queryString.parse(payload.search);\r\n      const token = yield put.resolve({ type: 'getAccessToken', payload: search });\r\n      if (token) {\r\n        const userInfo = yield put.resolve({ type: 'getUserInfo', payload: token });\r\n        if (userInfo) {\r\n          return yield put({ type: 'loginSucceed', payload: { userInfo, ...payload } });\r\n        }\r\n      }\r\n      return yield put({ type: 'loginFaild' });\r\n    },\r\n    *getAccessToken({ payload }, { put, call }) {  // eslint-disable-line\r\n      // debugger;  // eslint-disable-line\r\n      const { code, state, ...search } = payload;\r\n      if (code && state) {\r\n        replaceState(search);\r\n        const { data } = yield call(userService.getAccessTokenByCode, { code, state });\r\n        if (data) {\r\n          yield call(authService.setAccessToken, data);\r\n        }\r\n        return data || null;\r\n      }\r\n      const token = yield call(authService.getAccessToken);\r\n      return token || null;\r\n    },\r\n    *getUserInfo({ payload }, { put, call }) {  // eslint-disable-line\r\n      // debugger;  // eslint-disable-line\r\n      const { data } = yield call(userService.getUserInfo, payload);\r\n      return (data && data.viewer) || null;\r\n    },\r\n    *logout({ payload }, { put, call }) {  // eslint-disable-line\r\n      yield call(authService.removeAccessToken);\r\n      yield put({ type: 'save', payload: { userInfo: null } });\r\n      yield put(routerRedux.replace('/login'));\r\n    },\r\n    *loginSucceed({ payload }, { put, call }) {  // eslint-disable-line\r\n      yield put({ type: 'save', payload: { userInfo: payload.userInfo } });\r\n      const repos = yield put.resolve({ type: 'updateDB', payload: payload.userInfo });\r\n      if (repos && 0 < repos.length) {\r\n        yield put(routerRedux.replace('/all'));\r\n      } else {\r\n        yield put(routerRedux.replace('/user/watching'));\r\n      }\r\n    },\r\n    *loginFaild({ payload }, { put, call }) {  // eslint-disable-line\r\n      yield put({ type: 'save', payload: { userInfo: null } });\r\n      yield put(routerRedux.replace('/login'));\r\n    },\r\n    *updateDB({ payload }, { put, call, select }) {  // eslint-disable-line\r\n      yield put({ type: 'save', payload: { percent: 0, status: 'active' } });\r\n      yield call(localForageService.checkUser, payload);\r\n      const utime = yield call(localForageService.getUpdateTime);\r\n      if (60 * 60 * 1000 < new Date().getTime() - utime) {\r\n        const list = yield call(localForageService.getRepos, payload);\r\n        for (let i = 0, l = list.length; i < l; i += 1) {\r\n          yield call(localForageService.syncRepoInfo, list[i]);\r\n          yield put({ type: 'save', payload: { percent: Math.floor((i * 100) / l) } });\r\n        }\r\n        yield call(localForageService.setUpdateTime);\r\n      }\r\n      const repos = yield call(localForageService.getRepos, payload);\r\n      yield put({ type: 'save', payload: { percent: 100, status: 'success', repos } });\r\n      return repos;\r\n    },\r\n    *subscribe({ payload }, { put, call }) {  // eslint-disable-line\r\n      const { data } = yield call(localForageService.addRepo, payload);\r\n      if (data) {\r\n        yield put({ type: 'updateRepos' });\r\n        notification.success({ message: '订阅成功', description: '' });\r\n        return true;\r\n      } else {\r\n        notification.error({ message: '订阅失败', description: '' });\r\n        return false;\r\n      }\r\n    },\r\n    *unsubscribe({ payload }, { put, call }) {  // eslint-disable-line\r\n      yield call(localForageService.delRepo, payload);\r\n      yield put({ type: 'updateRepos' });\r\n      notification.success({ message: '退订成功', description: '' });\r\n      return true;\r\n    },\r\n    *updateRepos({ payload }, { put, call }) {  // eslint-disable-line\r\n      const list = yield call(localForageService.getRepos, payload);\r\n      yield put({ type: 'save', payload: { repos: list } });\r\n    },\r\n  },\r\n\r\n  reducers: {\r\n    save(state, action) {\r\n      return { ...state, ...action.payload };\r\n    },\r\n  },\r\n};\r\n","import ApolloClient from 'apollo-boost';\r\n\r\nimport accessToken from './accessToken';\r\n\r\nconst getApolloClient = async () => {\r\n  const token = await accessToken.get();\r\n  if (!token) {\r\n    return null;\r\n  }\r\n  return new ApolloClient({\r\n    uri: 'https://api.github.com/graphql',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Accept: 'application/json',\r\n      Authorization: `${token.token_type} ${token.access_token}`,\r\n    },\r\n    // onError: ({ graphQLErrors, response }) => {\r\n    //   debugger;\r\n    //   return response;\r\n    // }\r\n  });\r\n};\r\n\r\nexport default getApolloClient;\r\n","// import gql from 'graphql-tag';\r\nimport getClient from './apolloClient';\r\n\r\nconst query = async schema => {\r\n  const client = await getClient();\r\n  if (!client) {\r\n    return { errMsg: { message: 'get graphql client failed!' } };\r\n  }\r\n  try {\r\n    const resp = await client.query({ query: schema, errorPolicy: 'ignore' });\r\n    return { data: resp.data };\r\n  } catch (errMsg) {\r\n    return { errMsg };\r\n  }\r\n};\r\n\r\nexport default {\r\n  query,\r\n};\r\n","import gql from 'graphql-tag';\r\nimport graphql from './graphql';\r\n\r\nconst parseUserInfo = (info, owner) => {\r\n  const userInfo = { avatarUrl: '', bio: '', name: owner };\r\n  if (!info || !info.data) {\r\n    return userInfo;\r\n  }\r\n  if (info.data.user) {\r\n    return info.data.user;\r\n  } else if (info.data.organization) {\r\n    info.data.organization.bio = '';\r\n    return info.data.organization;\r\n  } else {\r\n    return userInfo;\r\n  }\r\n};\r\n\r\nexport default {\r\n  getUserInfo() {\r\n    return graphql.query(gql`\r\n      query {\r\n        viewer {\r\n          login\r\n          avatarUrl\r\n          name\r\n          bio\r\n        }\r\n      }\r\n    `);\r\n  },\r\n  async getRepoInfo({ owner, repo, team = false, filterAuthor = true }) {\r\n    const info = await graphql.query(gql`query {\r\n      repository(owner: \"${owner}\", name: \"${repo}\") {\r\n        issues(last : 100, states:OPEN, orderBy:{field:CREATED_AT, direction:DESC}){\r\n          totalCount\r\n          edges{\r\n            node{\r\n              title\r\n              number\r\n              createdAt\r\n              updatedAt\r\n              author{\r\n                login\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      user(login: \"${owner}\"){\r\n        avatarUrl\r\n        bio\r\n        name\r\n      }\r\n    }`);\r\n    if (info.errMsg) {\r\n      return info;\r\n    }\r\n    const user = parseUserInfo(info, owner);\r\n    const issues = info && info.data && info.data.repository && info.data.repository.issues;\r\n    const totalCount = (issues && issues.totalCount) || 0;\r\n    const edges = (issues && issues.edges) || [];\r\n    // debugger;\r\n    const data = {\r\n      owner,\r\n      repo,\r\n      totalCount: totalCount,\r\n      list: edges\r\n        .filter(it => true === team || false === filterAuthor || (it.node.author && it.node.author.login === owner))\r\n        .map(it => {\r\n          return { owner, repo, ...it.node, user };\r\n        }),\r\n      user,\r\n    };\r\n    return { data };\r\n  },\r\n  async getWatching(cursor) {\r\n    const info = await graphql.query(gql`query {\r\n      viewer {\r\n        watching (first: 100${cursor ? `, after: \"${cursor}\"` : ''}){\r\n          totalCount\r\n          edges{\r\n            cursor\r\n            node{\r\n              owner {\r\n                login\r\n                avatarUrl\r\n              }\r\n              name\r\n              issues (states:OPEN){\r\n                totalCount\r\n              }\r\n              stargazers {\r\n                totalCount\r\n              }\r\n              watchers{\r\n                totalCount\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }`);\r\n    if (info.errMsg) {\r\n      return info;\r\n    }\r\n    const { totalCount, edges } = info.data.viewer.watching;\r\n    const data = {\r\n      totalCount,\r\n      list: edges.map(it => {\r\n        return {\r\n          cursor: it.cursor,\r\n          owner: it.node.owner.login,\r\n          avatarUrl: it.node.owner.avatarUrl,\r\n          repo: it.node.name,\r\n          issueCount: it.node.issues.totalCount,\r\n          starCount: it.node.stargazers.totalCount,\r\n          watchCount: it.node.watchers.totalCount,\r\n        };\r\n      }),\r\n    };\r\n    return { data };\r\n  },\r\n  async getIssueInfo({ owner, repo, number }) {\r\n    const info = await graphql.query(gql`query {\r\n      repository(owner: \"${owner}\", name: \"${repo}\") {\r\n        issue(number:${number}){\r\n          body\r\n        }\r\n      }\r\n    }`);\r\n    if (info.errMsg) {\r\n      return info;\r\n    }\r\n    const data = {\r\n      owner,\r\n      repo,\r\n      number,\r\n      body: info.data.repository.issue.body,\r\n    };\r\n    return { data };\r\n  },\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"italic\":\"index_italic__3W7_N\",\"ellipsis\":\"index_ellipsis__TsyIL\",\"ponter\":\"index_ponter__3RR4f\",\"container\":\"index_container__2J-r9\",\"card\":\"index_card__X0dPJ\",\"logo\":\"index_logo__3_1sN\",\"title\":\"index_title__STexD\",\"subtitle\":\"index_subtitle__3UBjH\",\"block\":\"index_block__31yfx\"};","// import storage from './storage';\r\nimport localForage from 'localforage';\r\nconst accessTokenKey = 'accessToken';\r\n\r\nexport default {\r\n  async get() {\r\n    try {\r\n      const token = await localForage.getItem(accessTokenKey);\r\n      return token;\r\n    } catch (errMsg) {\r\n      return null;\r\n    }\r\n  },\r\n  set(token) {\r\n    return localForage.setItem(accessTokenKey, token);\r\n  },\r\n  remove() {\r\n    return localForage.removeItem(accessTokenKey);\r\n  },\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"italic\":\"index_italic__2F29j\",\"ellipsis\":\"index_ellipsis__4wQGa\",\"ponter\":\"index_ponter__ixEJa\",\"flex\":\"index_flex__3mZIF\",\"loading\":\"index_loading__vMJL6\",\"text\":\"index_text__2g5nv\",\"percent\":\"index_percent__372j5\"};"],"sourceRoot":""}